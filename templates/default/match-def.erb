# Generated by Chef

# <%= @name %>
<match <%= @match %>>
  type copy

<% if @s3_bucket %>
  <store>
    type <%= @type %>
  <% if @path %>
    path <%= @path %>
  <% end %>
  <% if @format %>
    format <%= @format %>
  <% end %>
  <% if @time_slice_format %>
    time_slice_format <%= @time_slice_format %>
  <% end %>
  <% if @flush_interval %>
    flush_interval <%= @flush_interval %>
  <% end %>
  <% if @buffer_type %>
    buffer_type <%= @buffer_type %>
  <% end %>
  <% if @buffer_path %>
    buffer_path <%= @buffer_path %>s3/
  <% end %>
  <% if @buffer_chunk_limit %>
    buffer_chunk_limit <%= @buffer_chunk_limit %>
  <% end %>
  <% if @utc %>
    utc
  <% end %>
  <% if @aws_key_id %>
    aws_key_id <%= @aws_key_id %>
  <% end %>
  <% if @aws_sec_key %>
    aws_sec_key <%= @aws_sec_key %>
  <% end %>
  <% if @s3_bucket %>
    s3_bucket <%= @s3_bucket %>
  <% end %>
  <% if @s3_endpoint %>
    s3_endpoint <%= @s3_endpoint %>
  <% end %>
  <% if @store_as %>
    store_as <%= @store_as %>
  <% end %>
  <% if @format_json %>
    format_json
  <% end %>
  </store>
<% end %>

<% if @hdfs_host %>
  <store>
    type webhdfs
    host <%= @hdfs_host %>
    port <%= @hdfs_port %>
    path <%= @hdfs_path %>
    username <%= @hdfs_user %>
  <% if @time_slice_format %>
    time_slice_format <%= @time_slice_format %>
  <% end %>
  <% if @flush_interval %>
    flush_interval <%= @flush_interval %>
  <% end %>
  <% if @buffer_type %>
    buffer_type <%= @buffer_type %>
  <% end %>
  <% if @buffer_path %>
    buffer_path <%= @buffer_path %>hdfs/
  <% end %>
  <% if @buffer_chunk_limit %>
    buffer_chunk_limit <%= @buffer_chunk_limit %>
  <% end %>
    output_include_time false
    output_include_tag false
  </store>
<% end %>

<% if @forward_host %>
  <store>
    type forward
    <server>
      host <%= @forward_host %>
      port <%= @forward_port %>
    </server>
  </store>
<% end %>
</match>
